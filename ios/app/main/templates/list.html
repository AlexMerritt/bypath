<ion-view view-title="{{ listyCtrl.viewTitle }}" >
  <ion-content>

    <!-- content goes here -->
    <!-- SLIDEABLE -->
    <ion-slide-box active-slide="0" class="" show-pager="false" on-slide-changed="listyCtrl.slideChanged(index)">

      <!-- SLIDE 0: 311ers -->
      <ion-slide>
        <div class="row padding " style="width: 100%; margin-bottom: -20px;">
          <p class="text-muted" style="margin-left: auto; margin-right: auto;">
            Slide right to see opinions&nbsp;
            <i class="icon ion-arrow-right-c"></i>
          </p>
        </div>
        <ion-list ng-repeat="complaint in listyCtrl.complaints">
          <div class="card padding" style="margin-bottom: 0px;">
            <div class="item item-text-wrap item-button-right">

              <h2><img ng-src="{{complaint.icon}}">&nbsp;{{complaint.description}}</h2>

              <span style="color: lightgray; font-size:.8em;">{{complaint.open_dt}}</span>

              <p>{{complaint.address}}</p>

              <div class="buttons" style="display: block;">
                <button class="button button-balanced button-outline" ng-click="listyCtrl.upvote(complaint.id)" style="margin-bottom: 5px;">
                  <i class="icon ion-arrow-up-b"></i>
                  <span>{{ listyCtrl.getComplaintUpvotes(complaint.id).$value || 0 }}</span>

                </button>
                <br>
                <button class="button button-assertive button-outline" ng-click="listyCtrl.downvote(complaint.id)">
                  <i class="icon ion-arrow-down-b"></i>
                  <span>{{ listyCtrl.getComplaintDownvotes(complaint.id).$value || 0 }}</span>

                </button>
              </div>

            </div>
          </div>
        <ion-list>
      </ion-slide>

      <!-- SLIDE 1: opinions -->
      <ion-slide>
        <div class="row padding" style="width: 100%; ">
          <p class="text-muted" style="margin-left: auto; margin-right: auto;">
            <i class="icon ion-arrow-left-c"></i>&nbsp;
            Slide left to see complaints
          </p>


        </div>
        <div class="row padding" style="margin-bottom: -20px;">
        <button class="button button-block button-small button-icon-left button-balanced" ui-sref="main.opinionate">
          <i class="icon ion-plus-round"></i>
          Add an opinion
        </button>
        </div>
        <ion-list ng-repeat="opinion in listyCtrl.opinions | orderBy:'-time'">
          <div class="card padding" style="margin-bottom: 0px;">
            <div class="item item-text-wrap item-button-right">

            <h2><img ng-src="main/assets/images/snowflake-icon.png" style="height: 14px; width: auto;">&nbsp;{{opinion.text}}</h2>

            <span style="color: lightgray; font-size:.8em;">{{opinion.time}}</span>

            <p>{{opinion.location.address}}</p>

            <img ng-if="opinion.image !== 'none'" data-ng-src="data:image/jpeg;base64,{{opinion.image}}" style="height: 400px; width: auto; margin-top: 10px;">
            <img ng-if="opinion.image === 'none'" ng-src="{{listyCtrl.test.test_img_src}}" style="height: 400px; width: auto; margin-top: 10px;">

            <!--   <div class="buttons" style="display: block;">
                <button class="button button-balanced button-outline" ng-click="listyCtrl.upvote(complaint.id)" style="margin-bottom: 5px;">
                  <span>{{ listyCtrl.getComplaintUpvotes(complaint.id).$value || 0 }}</span>
                  <i class="icon ion-arrow-up-b"></i>
                </button>
                <br>
                <button class="button button-assertive button-outline" ng-click="listyCtrl.downvote(complaint.id)">
                  <span>{{ listyCtrl.getComplaintDownvotes(complaint.id).$value || 0 }}</span>
                  <i class="icon ion-arrow-down-b"></i>
                </button>
              </div> -->

            </div>

          </div>

        <ion-list>


      </ion-slide>

    </ion-slide-box> <!-- end slide box -->

  </ion-content>
</ion-view>
